import{a as P}from"./chunk-RD224LYG.js";import{c as T,h as w,x as O}from"./chunk-KXDWJKY6.js";import{Fa as _,La as a,Ma as y,W as C,Ya as u,_a as p,ab as h,bb as U,cb as k,db as I,ea as f,eb as m,fa as v,fb as l,gb as c,jb as b,ka as x,kb as g,lb as s,qb as d,sb as E,tb as M,xb as S}from"./chunk-BCCWPBFH.js";function V(e,n){e&1&&(m(0,"li"),d(1,"Loading..."),l())}function z(e,n){if(e&1){let o=b();m(0,"li",7),g("click",function(){let r=f(o).$implicit,t=s(3);return v(t.select(r))}),c(1,"img",8),m(2,"span"),d(3),l()()}if(e&2){let o=n.$implicit,i=s(3);a(),p("src",i.apiUrl+"/"+o.path,_),a(2),M("",o.name.slice(0,10),".",o.extension,"")}}function D(e,n){if(e&1&&k(0,z,4,3,"li",null,U),e&2){let o=s(2);I(o.files)}}function $(e,n){if(e&1&&(m(0,"ul"),u(1,V,2,0,"li")(2,D,2,0),l()),e&2){let o=s();a(),h(o.loading?1:2)}}var K=(()=>{let n=class n{constructor(i){this.service=i,this.apiUrl=O.apiUrl,this.files=[],this.loading=!1,this.image="",this.name="",this.imgHanle=new x}hanldeChange(i){i.target.value.length>0?(this.loading=!0,this.service.list({search:i.target.value}).subscribe({next:r=>{this.files=r.data.data,this.loading=!1}})):(this.files=[],this.loading=!1)}select(i){this.image=i.path,this.imgHanle.emit({path:i.path,name:this.name})}remove(){this.image="",this.imgHanle.emit("")}};n.\u0275fac=function(r){return new(r||n)(y(P))},n.\u0275cmp=C({type:n,selectors:[["app-img-uploader"]],inputs:{image:"image",name:"name"},outputs:{imgHanle:"imgHanle"},standalone:!0,features:[S],decls:10,vars:8,consts:[[1,"img_uploader"],[3,"ngClass"],[2,"width","100%","border","1px solid #e9ecef"],["width","50px","height","35px",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],["type","hidden",3,"value","name"],[1,"form-control",3,"keyup","ngClass","value"],[3,"click"],["height","50px",2,"width","50px",3,"src"]],template:function(r,t){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),c(3,"img",3),d(4),l(),m(5,"button",4),g("click",function(){return t.remove()}),d(6,"X"),l(),c(7,"input",5),l(),m(8,"input",6),g("keyup",function(H){return t.hanldeChange(H)}),l(),u(9,$,3,1,"ul"),l()),r&2&&(a(),p("ngClass",t.image?"d-flex":"d-none"),a(2),p("src",t.apiUrl+"/"+t.image,_),a(),E(" ",t.image," "),a(3),p("value",t.image)("name",t.name),a(),p("ngClass",t.image?"d-none":"d-block")("value",t.image),a(),h(t.image?-1:9))},dependencies:[w,T],styles:[".img_uploader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:5px}.img_uploader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.img_uploader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#f5eded5c;border:1px solid #e9ecef;cursor:pointer;padding:5px 10px;margin:10px 0}"]});let e=n;return e})();export{K as a};
