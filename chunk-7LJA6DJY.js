import{a as J}from"./chunk-3XXSYN7Q.js";import{a as z}from"./chunk-YHL4TRRM.js";import{a as Y}from"./chunk-GVNVK6TH.js";import"./chunk-RSGK6ACU.js";import{a as k,b as c,c as w,d as D,f as V,g as R,h as A,i as O,j as q,k as G,l as H,m as B,n as P}from"./chunk-4VX7OIGX.js";import{a as U}from"./chunk-VQ4YTERQ.js";import"./chunk-HCY5TO24.js";import{a as j}from"./chunk-CSOYGTNE.js";import{e as T}from"./chunk-IW3LY66T.js";import{c as I,e as F,h as L,q as W,s as N,x as M}from"./chunk-565UEWQH.js";import{Ka as o,La as g,W as y,Wa as p,Ya as s,cb as i,db as t,eb as b,ib as S,jb as u,ob as r,qb as l,ub as C,wb as x}from"./chunk-B5DXUUC7.js";import{d as E}from"./chunk-4CLCTAJ7.js";var K=n=>({"d-none":n});function Z(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.title)," ")}}function $(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.subtitle)," ")}}function ee(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.status)," ")}}function te(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.featured)," ")}}function ie(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.thumbnail)," ")}}function ne(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.button)," ")}}function oe(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.link)," ")}}function re(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.short_description)," ")}}function ae(n,m){if(n&1&&(i(0,"div",37),r(1),t()),n&2){let a=u();o(),l(" ",a.myFormService.getErrorMessage(a.form.controls.long_description)," ")}}var Se=(()=>{let m=class m{constructor(f,d,e,h,v,_,Q,X){this.fb=f,this.notification=d,this.myFormService=e,this.service=h,this.route=v,this.router=_,this.lang=Q,this.websiteService=X,this.default="",this.formLoader=!1,this.editId="",this.form=this.fb.group({title:["",[c.required,c.maxLength(100)]],subtitle:["",[c.maxLength(100)]],thumbnail:["",c.required],featured:["",c.required],status:["",c.required],button:["",[c.maxLength(500)]],link:["",[c.maxLength(500)]],short_description:["",[c.maxLength(500)]],long_description:["",[c.maxLength(1e4)]]})}ngOnInit(){this.route.paramMap.subscribe(f=>{this.editId=f.get("id"),this.getRecord(this.editId)})}getRecord(f){return E(this,null,function*(){this.formLoader=!0,this.service.list({type:"webinar",id:Number(this.editId),limit:1}).subscribe({next:d=>{let e=d.data.data[0];e&&(this.form.patchValue({title:e.title,subtitle:e.subtitle,thumbnail:e.thumbnail,status:e.status,featured:e.is_featured,button:e.button,link:e.link,short_description:e.short_description,long_description:e.long_description}),this.default=e.long_description),this.notification.success(d.message),this.formLoader=!1},error:d=>{let e=d.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})})}onSubmit(){return E(this,null,function*(){if(this.form.valid){let f=this.form.value;f.type="webinar",f.id=this.editId,this.formLoader=!0,this.service.update(f).subscribe({next:d=>{this.formLoader=!1,this.notification.success(d.message),this.getRecord(this.editId),this.formLoader=!1},error:d=>{let e=d.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.formLoader=!1,this.form.markAllAsTouched(),this.notification.error("Validation Failed")})}};m.\u0275fac=function(d){return new(d||m)(g(H),g(M),g(J),g(U),g(W),g(N),g(T),g(j))},m.\u0275cmp=y({type:m,selectors:[["app-webinar-edit"]],standalone:!0,features:[C],decls:92,vars:26,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"text-center",3,"ngClass"],[3,"ngSubmit","ngClass","formGroup"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","subtitle","placeholder","Subtitle",1,"form-control"],["formControlName","status",1,"form-control"],["value",""],["value","1"],["value","0"],["formControlName","featured",1,"form-control"],[3,"imgHanle","image"],["formControlName","button","placeholder","Button",1,"form-control"],["formControlName","link","placeholder","Link",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["name","long_description",3,"editorChange","Defaultvalue"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(d,e){if(d&1&&(i(0,"div",0)(1,"div",1)(2,"h4",2),r(3,"Edit Webinar"),t()(),i(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),r(9,"Home"),t()(),i(10,"li",8),r(11,"Webinars"),t()()()()(),i(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),r(17,"Edit Webinar Form"),t()(),i(18,"div",14)(19,"p",15),r(20,"Loader"),t(),i(21,"form",16),S("ngSubmit",function(){return e.onSubmit()}),i(22,"div",17)(23,"div",18)(24,"div",19)(25,"label",20),r(26),t(),b(27,"input",21),p(28,Z,2,1,"div",22),t()(),i(29,"div",18)(30,"div",19)(31,"label",20),r(32),t(),b(33,"input",23),p(34,$,2,1,"div",22),t()(),i(35,"div",18)(36,"div",19)(37,"label",20),r(38,"Status"),t(),i(39,"select",24)(40,"option",25),r(41,"Select Status"),t(),i(42,"option",26),r(43,"Enable"),t(),i(44,"option",27),r(45,"Disable"),t()(),p(46,ee,2,1,"div",22),t()(),i(47,"div",18)(48,"div",19)(49,"label",20),r(50,"Is Featured"),t(),i(51,"select",28)(52,"option",25),r(53,"Select Featured"),t(),i(54,"option",26),r(55,"Yes"),t(),i(56,"option",27),r(57,"No"),t()(),p(58,te,2,1,"div",22),t()(),i(59,"div",18)(60,"div",19)(61,"label",20),r(62),t(),i(63,"app-img-uploader",29),S("imgHanle",function(v){return e.form.controls.thumbnail.patchValue(v.path)}),t(),p(64,ie,2,1,"div",22),t()(),i(65,"div",18)(66,"div",19)(67,"label",20),r(68),t(),b(69,"input",30),p(70,ne,2,1,"div",22),t()(),i(71,"div",18)(72,"div",19)(73,"label",20),r(74),t(),b(75,"input",31),p(76,oe,2,1,"div",22),t()(),i(77,"div",32)(78,"div",19)(79,"label",20),r(80),t(),b(81,"input",33),p(82,re,2,1,"div",22),t()(),i(83,"div",32)(84,"div",19)(85,"label",20),r(86),t(),i(87,"app-my-editor",34),S("editorChange",function(v){let _;return(_=e.form.get("long_description"))==null?null:_.patchValue(v)}),t(),p(88,ae,2,1,"div",22),t()(),i(89,"div",35)(90,"button",36),r(91,"Submit"),t()()()()()()()()),d&2){let h,v;o(19),s("ngClass",x(22,K,!e.formLoader)),o(2),s("ngClass",x(24,K,e.formLoader))("formGroup",e.form),o(5),l("Title (",e.lang.lang,")"),o(2),s("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),o(4),l("Subtitle (",e.lang.lang,")"),o(2),s("ngIf",e.form.controls.subtitle.invalid&&(e.form.controls.subtitle.dirty||e.form.controls.subtitle.touched)),o(12),s("ngIf",e.form.controls.status.invalid&&(e.form.controls.status.dirty||e.form.controls.status.touched)),o(12),s("ngIf",e.form.controls.featured.invalid&&(e.form.controls.featured.dirty||e.form.controls.featured.touched)),o(4),l("Thumbnail (",e.lang.lang,")"),o(),s("image",(h=e.form.controls.thumbnail.value)!==null&&h!==void 0?h:""),o(),s("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),o(4),l("Button (",e.lang.lang,")"),o(2),s("ngIf",e.form.controls.button.invalid&&(e.form.controls.button.dirty||e.form.controls.button.touched)),o(4),l("Link (",e.lang.lang,")"),o(2),s("ngIf",e.form.controls.link.invalid&&(e.form.controls.link.dirty||e.form.controls.link.touched)),o(4),l("Short Description (",e.lang.lang,")"),o(2),s("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),o(4),l("Long Description (",e.lang.lang,")"),o(),s("Defaultvalue",(v=e.default)!==null&&v!==void 0?v:""),o(),s("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),o(2),s("disabled",e.formLoader)}},dependencies:[L,I,F,P,V,q,G,k,O,w,D,R,A,B,Y,z],encapsulation:2});let n=m;return n})();export{Se as WebinarEditComponent};
