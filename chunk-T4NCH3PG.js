import{a as z}from"./chunk-OCMIB5ZM.js";import{a as U}from"./chunk-SZOWSD7S.js";import{a as k}from"./chunk-LPZWD7QJ.js";import"./chunk-56Y42CFZ.js";import{a as V,b as u,c as H,d as w,f as A,g as R,h as W,l as G,m as O,n as q}from"./chunk-4NJHKZKE.js";import{a as B}from"./chunk-LOCDO6WR.js";import"./chunk-XJQRYUSR.js";import{a as D}from"./chunk-SKQYMPMS.js";import{e as N}from"./chunk-IACLDSZE.js";import{c as F,e as L,h as P,q as T,s as M,x as j}from"./chunk-J2EGX742.js";import{Ka as i,La as v,W as C,Wa as g,Ya as d,cb as n,db as t,eb as S,ib as b,jb as h,ob as a,qb as l,vb as I,xb as x}from"./chunk-PQVSAWMG.js";import{d as y}from"./chunk-4CLCTAJ7.js";var J=r=>({"d-none":r});function Q(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.title)," ")}}function X(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.pdf)," ")}}function Y(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.author)," ")}}function Z(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.banner)," ")}}function $(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.creater)," ")}}function ee(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.thumbnail)," ")}}function te(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.short_description)," ")}}function ie(r,s){if(r&1&&(n(0,"div",31),a(1),t()),r&2){let o=h();i(),l(" ",o.myFormService.getErrorMessage(o.form.controls.long_description)," ")}}var ge=(()=>{let s=class s{constructor(p,m,e,f,c,_,E,K){this.fb=p,this.notification=m,this.myFormService=e,this.service=f,this.route=c,this.router=_,this.lang=E,this.websiteService=K,this.default="",this.formLoader=!1,this.editId="",this.form=this.fb.group({title:["",[u.required,u.maxLength(200)]],pdf:["",[u.maxLength(100)]],author:["",[u.maxLength(100)]],creater:["",[u.maxLength(100)]],banner:["",[u.maxLength(100)]],thumbnail:["",u.required],short_description:["",[u.maxLength(500)]],long_description:["",[u.maxLength(1e4)]]})}ngOnInit(){this.route.paramMap.subscribe(p=>{this.editId=p.get("id"),this.getRecord(this.editId)})}getRecord(p){return y(this,null,function*(){this.formLoader=!0,this.service.list({type:"pdf",id:Number(this.editId),limit:1}).subscribe({next:m=>{let e=m.data.data[0];e&&(this.form.patchValue({title:e.title,pdf:e.pdf,author:e.author,creater:e.creater,short_description:e.short_description,long_description:e.long_description,thumbnail:e.thumbnail,banner:e.banner}),this.default=e.long_description),this.notification.success(m.message),this.formLoader=!1},error:m=>{let e=m.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})})}onSubmit(){return y(this,null,function*(){if(this.form.valid){let p=this.form.value;p.type="pdf",p.id=this.editId,this.formLoader=!0,this.service.update(p).subscribe({next:m=>{this.formLoader=!1,this.notification.success(m.message),this.getRecord(this.editId),this.formLoader=!1,this.router.navigate(["admin/pdf/list"])},error:m=>{let e=m.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.formLoader=!1,this.form.markAllAsTouched(),this.notification.error("Validation Failed")})}};s.\u0275fac=function(m){return new(m||s)(v(G),v(j),v(z),v(B),v(T),v(M),v(N),v(D))},s.\u0275cmp=C({type:s,selectors:[["app-pdf-edit"]],standalone:!0,features:[I],decls:74,vars:28,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"text-center",3,"ngClass"],[3,"ngSubmit","ngClass","formGroup"],[1,"row","pt-3"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],[3,"imgHanle","image"],["formControlName","author","placeholder","Author",1,"form-control"],["formControlName","creater","placeholder","Creater",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["name","long_description",3,"editorChange","Defaultvalue"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(m,e){if(m&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"Edit Pdf"),t()(),n(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9,"Home"),t()(),n(10,"li",8),a(11,"Pdf"),t()()()()(),n(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),a(17,"Edit Pdf Form"),t()(),n(18,"div",14)(19,"p",15),a(20,"Loader"),t(),n(21,"form",16),b("ngSubmit",function(){return e.onSubmit()}),n(22,"div",17)(23,"div",18)(24,"div",19)(25,"label",20),a(26),t(),S(27,"input",21),g(28,Q,2,1,"div",22),t()(),n(29,"div",18)(30,"div",19)(31,"label",20),a(32),t(),n(33,"app-img-uploader",23),b("imgHanle",function(c){return e.form.controls.pdf.patchValue(c.path)}),t(),g(34,X,2,1,"div",22),t()(),n(35,"div",18)(36,"div",19)(37,"label",20),a(38),t(),S(39,"input",24),g(40,Y,2,1,"div",22),t()(),n(41,"div",18)(42,"div",19)(43,"label",20),a(44),t(),n(45,"app-img-uploader",23),b("imgHanle",function(c){return e.form.controls.banner.patchValue(c.path)}),t(),g(46,Z,2,1,"div",22),t()(),n(47,"div",18)(48,"div",19)(49,"label",20),a(50),t(),S(51,"input",25),g(52,$,2,1,"div",22),t()(),n(53,"div",18)(54,"div",19)(55,"label",20),a(56),t(),n(57,"app-img-uploader",23),b("imgHanle",function(c){return e.form.controls.thumbnail.patchValue(c.path)}),t(),g(58,ee,2,1,"div",22),t()(),n(59,"div",26)(60,"div",19)(61,"label",20),a(62),t(),S(63,"input",27),g(64,te,2,1,"div",22),t()(),n(65,"div",26)(66,"div",19)(67,"label",20),a(68),t(),n(69,"app-my-editor",28),b("editorChange",function(c){let _;return(_=e.form.get("long_description"))==null?null:_.patchValue(c)}),t(),g(70,ie,2,1,"div",22),t()(),n(71,"div",29)(72,"button",30),a(73,"Submit"),t()()()()()()()()),m&2){let f,c,_,E;i(19),d("ngClass",x(24,J,!e.formLoader)),i(2),d("ngClass",x(26,J,e.formLoader))("formGroup",e.form),i(5),l("Title (",e.lang.lang,")"),i(2),d("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),i(4),l("PDF (",e.lang.lang,")"),i(),d("image",(f=e.form.controls.pdf.value)!==null&&f!==void 0?f:""),i(),d("ngIf",e.form.controls.pdf.invalid&&(e.form.controls.pdf.dirty||e.form.controls.pdf.touched)),i(4),l("Author (",e.lang.lang,")"),i(2),d("ngIf",e.form.controls.author.invalid&&(e.form.controls.author.dirty||e.form.controls.author.touched)),i(4),l("Banner (",e.lang.lang,")"),i(),d("image",(c=e.form.controls.banner.value)!==null&&c!==void 0?c:""),i(),d("ngIf",e.form.controls.banner.invalid&&(e.form.controls.banner.dirty||e.form.controls.banner.touched)),i(4),l("Creater (",e.lang.lang,")"),i(2),d("ngIf",e.form.controls.creater.invalid&&(e.form.controls.creater.dirty||e.form.controls.author.touched)),i(4),l("Thumbnail (",e.lang.lang,")"),i(),d("image",(_=e.form.controls.thumbnail.value)!==null&&_!==void 0?_:""),i(),d("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),i(4),l("Short Description (",e.lang.lang,")"),i(2),d("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),i(4),l("Long Description (",e.lang.lang,")"),i(),d("Defaultvalue",(E=e.default)!==null&&E!==void 0?E:""),i(),d("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),i(2),d("disabled",e.formLoader)}},dependencies:[P,F,L,q,A,V,H,w,R,W,O,k,U],encapsulation:2});let r=s;return r})();export{ge as PdfEditComponent};
