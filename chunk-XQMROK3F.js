import{a as U}from"./chunk-NRYJNN4X.js";import{a as R}from"./chunk-PJYC7SUN.js";import{a as P}from"./chunk-UG4PF6BJ.js";import"./chunk-KWL7FBH7.js";import{a as T,b as c,c as j,d as D,f as V,g as w,h as q,i as A,j as G,k as H,l as O,m as W,n as k}from"./chunk-HLRV67NH.js";import{a as B}from"./chunk-OU5LC3BQ.js";import"./chunk-CI7YBOYE.js";import{e as M}from"./chunk-LG62RP5S.js";import{c as I,d as F,f as L,u as N}from"./chunk-CTDPX7HU.js";import{$a as f,Aa as n,Ba as v,Ma as p,Oa as m,Ua as i,Va as t,W as E,Wa as S,_a as _,eb as o,gb as d,kb as y,mb as x}from"./chunk-BBJBHRII.js";import{d as b}from"./chunk-4CLCTAJ7.js";var Y=r=>({"d-none":r});function z(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.title)," ")}}function J(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.status)," ")}}function K(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.featured)," ")}}function Q(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.thumbnail)," ")}}function X(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.short_description)," ")}}function Z(r,l){if(r&1&&(i(0,"div",34),o(1),t()),r&2){let a=f();n(),d(" ",a.myFormService.getErrorMessage(a.form.controls.long_description)," ")}}var se=(()=>{let l=class l{constructor(u,s,e,C,g){this.fb=u,this.notification=s,this.myFormService=e,this.service=C,this.lang=g,this.formLoader=!0,this.form=this.fb.group({title:["",[c.required,c.maxLength(100)]],thumbnail:["",c.required],featured:["",c.required],status:["",c.required],short_description:["",[c.maxLength(500)]],long_description:["",[c.maxLength(1e4)]]})}ngOnInit(){this.formLoader=!1}onSubmit(){return b(this,null,function*(){if(this.form.valid){let u=this.form.value;u.type="course",this.formLoader=!0,this.service.update(u).subscribe({next:s=>{this.formLoader=!1,this.notification.success(s.message),this.form.reset(),this.formLoader=!1},error:s=>{let e=s.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.form.markAllAsTouched(),this.formLoader=!1,this.notification.error("Validation Failed")})}};l.\u0275fac=function(s){return new(s||l)(v(O),v(N),v(U),v(B),v(M))},l.\u0275cmp=E({type:l,selectors:[["app-course-create"]],standalone:!0,features:[y],decls:74,vars:19,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center",3,"ngClass"],[1,"row","pt-3",3,"ngClass"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","status",1,"form-control"],["value",""],["value","1"],["value","0"],["formControlName","featured",1,"form-control"],[3,"imgHanle","image"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],["value","",3,"editorChange"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(s,e){s&1&&(i(0,"div",0)(1,"div",1)(2,"h4",2),o(3,"Create Course"),t()(),i(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),o(9,"Home"),t()(),i(10,"li",8),o(11,"Courses"),t()()()()(),i(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),o(17,"Create Course Form"),t()(),i(18,"div",14)(19,"form",15),_("ngSubmit",function(){return e.onSubmit()}),i(20,"p",16),o(21,"Loader"),t(),i(22,"div",17)(23,"div",18)(24,"div",19)(25,"label",20),o(26),t(),S(27,"input",21),p(28,z,2,1,"div",22),t()(),i(29,"div",18)(30,"div",19)(31,"label",20),o(32,"Status"),t(),i(33,"select",23)(34,"option",24),o(35,"Select Status"),t(),i(36,"option",25),o(37,"Enable"),t(),i(38,"option",26),o(39,"Disable"),t()(),p(40,J,2,1,"div",22),t()(),i(41,"div",18)(42,"div",19)(43,"label",20),o(44,"Is Featured"),t(),i(45,"select",27)(46,"option",24),o(47,"Select Featured"),t(),i(48,"option",25),o(49,"Yes"),t(),i(50,"option",26),o(51,"No"),t()(),p(52,K,2,1,"div",22),t()(),i(53,"div",18)(54,"div",19)(55,"label",20),o(56),t(),i(57,"app-img-uploader",28),_("imgHanle",function(g){let h;return(h=e.form.get("thumbnail"))==null?null:h.patchValue(g.path)}),t(),p(58,Q,2,1,"div",22),t()(),i(59,"div",29)(60,"div",19)(61,"label",20),o(62),t(),S(63,"input",30),p(64,X,2,1,"div",22),t()(),i(65,"div",29)(66,"div",19)(67,"label",20),o(68),t(),i(69,"app-my-editor",31),_("editorChange",function(g){let h;return(h=e.form.get("long_description"))==null?null:h.patchValue(g)}),t(),p(70,Z,2,1,"div",22),t()(),i(71,"div",32)(72,"button",33),o(73,"Submit"),t()()()()()()()()),s&2&&(n(19),m("formGroup",e.form),n(),m("ngClass",x(15,Y,!e.formLoader)),n(2),m("ngClass",x(17,Y,e.formLoader)),n(4),d("Title (",e.lang.lang,")"),n(2),m("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),n(12),m("ngIf",e.form.controls.status.invalid&&(e.form.controls.status.dirty||e.form.controls.status.touched)),n(12),m("ngIf",e.form.controls.featured.invalid&&(e.form.controls.featured.dirty||e.form.controls.featured.touched)),n(4),d("Thumbnail (",e.lang.lang,")"),n(),m("image",""),n(),m("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),n(4),d("Short Description (",e.lang.lang,")"),n(2),m("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),n(4),d("Long Description (",e.lang.lang,")"),n(2),m("ngIf",e.form.controls.long_description.invalid&&(e.form.controls.long_description.dirty||e.form.controls.long_description.touched)),n(2),m("disabled",e.formLoader))},dependencies:[L,I,F,k,V,G,H,T,A,j,D,w,q,W,P,R],encapsulation:2});let r=l;return r})();export{se as CourseCreateComponent};
