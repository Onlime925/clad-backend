import{a as O}from"./chunk-CFZ55GJT.js";import"./chunk-YBORAQIT.js";import"./chunk-Q4C2MDTB.js";import{c as j,h as D,s as F,t as V,y as N}from"./chunk-JYBOTQM5.js";import{Fa as L,La as d,Ma as f,W as w,Ya as p,_a as h,ab as m,bb as k,cb as S,db as b,ea as u,eb as o,fa as x,fb as i,gb as C,jb as g,kb as v,lb as c,qb as r,rb as E,sb as _,ub as T,xb as P,zb as I}from"./chunk-BCCWPBFH.js";import{d as y}from"./chunk-4CLCTAJ7.js";var W=(e,s)=>s.id,$=e=>({active:e});function M(e,s){e&1&&(o(0,"a",14),r(1,"Add New"),i())}function A(e,s){e&1&&(o(0,"td",24),r(1,"Loading"),i())}function R(e,s){if(e&1&&(o(0,"a",30),C(1,"i",32),i()),e&2){let t=c().$implicit;h("routerLink","/admin/posts/edit/"+t.id)}}function z(e,s){if(e&1){let t=g();o(0,"a",33),v("click",function(){u(t);let l=c().$implicit,a=c(4);return x(a.onDelete(l.id))}),C(1,"i",34),i()}}function B(e,s){if(e&1&&(o(0,"tr")(1,"td",23),r(2),i(),o(3,"td"),C(4,"img",27),i(),o(5,"td"),r(6),i(),o(7,"td"),r(8),i(),o(9,"td"),r(10),i(),o(11,"td"),r(12),i(),o(13,"td"),r(14),i(),o(15,"td",28)(16,"div",29),p(17,R,2,1,"a",30)(18,z,2,0,"a",31),i()()()),e&2){let t=s.$implicit,n=c(4);d(2),E(t.id),d(2),h("src",t.thumbnail_prev,L),d(2),_(" ",t.category," "),d(2),_(" ",t.title," "),d(2),_(" ",t.date," "),d(2),_(" ",t.is_featured?"Yes":"No"," "),d(2),_(" ",t.status?"Enable":"Disable"," "),d(3),m(n.service.adminService.p.includes("destacados.edit")?17:-1),d(),m(n.service.adminService.p.includes("destacados.delete")?18:-1)}}function H(e,s){if(e&1&&S(0,B,19,9,"tr",null,W),e&2){let t=c(3);b(t.dataSource==null?null:t.dataSource.data)}}function U(e,s){if(e&1&&p(0,H,2,0),e&2){let t=c(2);m(t.dataSource!=null&&t.dataSource.data?0:-1)}}function Y(e,s){if(e&1){let t=g();o(0,"li",35)(1,"button",36),v("click",function(){let l=u(t).$implicit,a=c(3);return x(a.handlePage(l))}),r(2),i()()}if(e&2){let t=s.$implicit,n=c(3);d(),h("ngClass",I(2,$,t==n.options.page)),d(),E(t)}}function q(e,s){if(e&1&&S(0,Y,3,4,"li",35,k),e&2){let t=c(2);b(t.dataSource==null?null:t.dataSource.links)}}function G(e,s){if(e&1){let t=g();o(0,"div",16)(1,"div",17)(2,"p"),r(3),i()(),o(4,"div",18)(5,"input",19),v("keypress",function(l){u(t);let a=c();return x(a.handleSearch(l))}),i()()(),o(6,"div",20)(7,"table",21)(8,"thead",22)(9,"tr")(10,"th",23),r(11,"#"),i(),o(12,"th",23),r(13,"Image"),i(),o(14,"th",23),r(15,"Category"),i(),o(16,"th",23),r(17,"Title"),i(),o(18,"th",23),r(19,"Date"),i(),o(20,"th",23),r(21,"Featured"),i(),o(22,"th",23),r(23,"Status"),i(),o(24,"th",23),r(25,"Action"),i()()(),o(26,"tbody",22),p(27,A,2,0,"td",24)(28,U,1,1),i()(),o(29,"div",25)(30,"ul",26),p(31,q,2,0),i()()()}if(e&2){let t,n=c();d(3),T("Showing ",(t=n.dataSource==null?null:n.dataSource.from)!==null&&t!==void 0?t:0," to ",(t=n.dataSource==null?null:n.dataSource.to)!==null&&t!==void 0?t:0," of ",(t=n.dataSource==null?null:n.dataSource.total)!==null&&t!==void 0?t:0," entries"),d(24),m(n.loader?27:28),d(4),m(n.dataSource.links?31:-1)}}var ot=(()=>{let s=class s{constructor(n,l,a){this.service=n,this.notification=l,this.router=a,this.loader=!1,this.dataSource={},this.options={type:"post",page:1,limit:50,order_by:"created_at",sort_by:"desc"}}ngOnInit(){this.getList()}getList(){this.loader=!0,this.service.list(this.options).subscribe({next:n=>{this.dataSource=n.data,this.loader=!1},error:n=>{this.notification.error("Something Went Wrong"),this.loader=!1}})}handleSearch(n){let l=n.target;this.options.search=l.value,this.getList()}handlePage(n){this.options.page=n,this.getList()}onDelete(n){this.loader=!0,this.service.delete(n).subscribe({next:l=>{this.notification.success(l.message),this.getList()},error:l=>{let a=l.error;a?a.errors?this.notification.error(Object.values(a.errors)[0]):this.notification.error(a.message):this.notification.error("Something Went Wrong"),this.loader=!1}})}getRecord(n){return y(this,null,function*(){this.service.list({type:"post",id:Number(n),limit:1}).subscribe({next:l=>{let a=l.data.data[0];console.log({title:a.title,short_description:a.short_description,long_description:a.long_description})},error:l=>{let a=l.error;a?a.errors?this.notification.error(Object.values(a.errors)[0]):this.notification.error(a.message):this.notification.error("Something Went Wrong")}})})}};s.\u0275fac=function(l){return new(l||s)(f(O),f(N),f(F))},s.\u0275cmp=w({type:s,selectors:[["app-slider-list"]],standalone:!0,features:[P],decls:21,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","justify-content-center","align-items-center"],[1,"mb-0","text-white"],["routerLink","/admin/posts/create",1,"btn","btn-primary"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","pb-3"],[1,"text-end"],[1,"d-flex","justify-content-center","align-items-center"],["id","search","placeholder","Search",1,"form-control",3,"keypress"],[1,"table-responsive"],[1,"table","border","table-striped"],[1,"text-nowrap","text-truncate"],[1,"text-center"],["colspan","5",1,"text-center"],["id","example23_paginate",1,"dataTables_paginate","paging_simple_numbers","pt-3"],[1,"pagination",2,"justify-content","center"],[2,"width","50px","height","50px",3,"src"],[1,"text-center","text-nowrap"],[1,"bt-group"],["title","Edit",1,"me-2","btn","btn-info","text-white",3,"routerLink"],["title","Delete",1,"btn","btn-danger","text-white"],[1,"icon","mdi","mdi-grease-pencil"],["title","Delete",1,"btn","btn-danger","text-white",3,"click"],[1,"icon","mdi","mdi-delete"],[1,"paginate_button","page-item"],[1,"page-link",3,"click","ngClass"]],template:function(l,a){l&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),r(3,"All Destacados"),i()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),r(9,"Home"),i()(),o(10,"li",8),r(11,"Destacados"),i()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),r(17,"All Destacados List"),i(),p(18,M,2,0,"a",14),i(),o(19,"div",15),p(20,G,32,5),i()()()()),l&2&&(d(18),m(a.service.adminService.p.includes("destacados.create")?18:-1),d(2),m(a.service.adminService.p.includes("destacados.list")?20:-1))},dependencies:[V,D,j],styles:[`.paginate_button[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{
    background-color: #03a9f3;
    color: white;
  }`]});let e=s;return e})();export{ot as PostListComponent};
