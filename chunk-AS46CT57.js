import{a as W}from"./chunk-OCMIB5ZM.js";import"./chunk-SZOWSD7S.js";import{a as P}from"./chunk-KAUHFWNX.js";import"./chunk-4KMK4U6T.js";import{a as M,b as s,c as N,d as j,f as w,g as H,h as V,l as A,m as G,n as q}from"./chunk-4NJHKZKE.js";import{a as O}from"./chunk-M4MHD5AH.js";import"./chunk-XJQRYUSR.js";import{e as T}from"./chunk-6TWCRN65.js";import{c as I,e as F,h as D,x as L}from"./chunk-J2EGX742.js";import{Ka as i,La as h,W as b,Wa as p,Ya as m,cb as o,db as t,eb as v,ib as C,jb as f,ob as a,qb as l,vb as E,xb as y}from"./chunk-PQVSAWMG.js";import{d as x}from"./chunk-4CLCTAJ7.js";var k=n=>({"d-none":n});function B(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.title)," ")}}function R(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.pdf)," ")}}function U(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.country)," ")}}function z(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.topic)," ")}}function J(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.thumbnail)," ")}}function K(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.created_at)," ")}}function Q(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.language)," ")}}function X(n,d){if(n&1&&(o(0,"div",32),a(1),t()),n&2){let r=f();i(),l(" ",r.myFormService.getErrorMessage(r.form.controls.short_description)," ")}}var de=(()=>{let d=class d{constructor(g,c,e,u,_){this.fb=g,this.notification=c,this.myFormService=e,this.service=u,this.lang=_,this.formLoader=!0,this.form=this.fb.group({title:["",[s.required,s.maxLength(500)]],pdf:["",[s.maxLength(100)]],country:["",[s.maxLength(100)]],topic:["",[s.maxLength(100)]],short_description:["",[s.maxLength(500)]],thumbnail:["",s.required],created_at:["",s.required],language:["",[s.maxLength(100)]]})}ngOnInit(){this.formLoader=!1}onSubmit(){return x(this,null,function*(){if(this.form.valid){let g=this.form.value;g.type="document",this.formLoader=!0,this.service.update(g).subscribe({next:c=>{this.formLoader=!1,this.notification.success(c.message),this.form.reset(),this.formLoader=!1},error:c=>{let e=c.error;e?e.errors?this.notification.error(Object.values(e.errors)[0]):this.notification.error(e.message):this.notification.error("Something Went Wrong"),this.formLoader=!1}})}else this.form.markAllAsTouched(),this.formLoader=!1,this.notification.error("Validation Failed")})}};d.\u0275fac=function(c){return new(c||d)(h(A),h(L),h(W),h(O),h(T))},d.\u0275cmp=b({type:d,selectors:[["app-document-create"]],standalone:!0,features:[E],decls:74,vars:26,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"text-center",3,"ngClass"],[1,"row","pt-3",3,"ngClass"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["formControlName","title","placeholder","Title",1,"form-control"],["class","text-danger",4,"ngIf"],[3,"imgHanle","image"],["formControlName","country","placeholder","Country",1,"form-control"],["formControlName","topic","placeholder","Topic",1,"form-control"],["type","date","formControlName","created_at","placeholder","Created at",1,"form-control"],["type","text","formControlName","language","placeholder","Language",1,"form-control"],[1,"col-md-12"],["formControlName","short_description","placeholder","Short Description",1,"form-control"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white",3,"disabled"],[1,"text-danger"]],template:function(c,e){if(c&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"Create Document"),t()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9,"Home"),t()(),o(10,"li",8),a(11,"Documents"),t()()()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),a(17,"Create Document Form"),t()(),o(18,"div",14)(19,"form",15),C("ngSubmit",function(){return e.onSubmit()}),o(20,"p",16),a(21,"Loader"),t(),o(22,"div",17)(23,"div",18)(24,"div",19)(25,"label",20),a(26),t(),v(27,"input",21),p(28,B,2,1,"div",22),t()(),o(29,"div",18)(30,"div",19)(31,"label",20),a(32),t(),o(33,"app-img-uploader",23),C("imgHanle",function(_){return e.form.controls.pdf.patchValue(_.path)}),t(),p(34,R,2,1,"div",22),t()(),o(35,"div",18)(36,"div",19)(37,"label",20),a(38),t(),v(39,"input",24),p(40,U,2,1,"div",22),t()(),o(41,"div",18)(42,"div",19)(43,"label",20),a(44),t(),v(45,"input",25),p(46,z,2,1,"div",22),t()(),o(47,"div",18)(48,"div",19)(49,"label",20),a(50),t(),o(51,"app-img-uploader",23),C("imgHanle",function(_){let S;return(S=e.form.get("thumbnail"))==null?null:S.patchValue(_.path)}),t(),p(52,J,2,1,"div",22),t()(),o(53,"div",18)(54,"div",19)(55,"label",20),a(56),t(),v(57,"input",26),p(58,K,2,1,"div",22),t()(),o(59,"div",18)(60,"div",19)(61,"label",20),a(62),t(),v(63,"input",27),p(64,Q,2,1,"div",22),t()(),o(65,"div",28)(66,"div",19)(67,"label",20),a(68),t(),v(69,"input",29),p(70,X,2,1,"div",22),t()(),o(71,"div",30)(72,"button",31),a(73,"Submit"),t()()()()()()()()),c&2){let u;i(19),m("formGroup",e.form),i(),m("ngClass",y(22,k,!e.formLoader)),i(2),m("ngClass",y(24,k,e.formLoader)),i(4),l("Title (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.title.invalid&&(e.form.controls.title.dirty||e.form.controls.title.touched)),i(4),l("PDF (",e.lang.lang,")"),i(),m("image",(u=e.form.controls.pdf.value)!==null&&u!==void 0?u:""),i(),m("ngIf",e.form.controls.pdf.invalid&&(e.form.controls.pdf.dirty||e.form.controls.pdf.touched)),i(4),l("Country (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.country.invalid&&(e.form.controls.country.dirty||e.form.controls.country.touched)),i(4),l("Topic (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.topic.invalid&&(e.form.controls.topic.dirty||e.form.controls.topic.touched)),i(4),l("Thumbnail (",e.lang.lang,")"),i(),m("image",""),i(),m("ngIf",e.form.controls.thumbnail.invalid&&(e.form.controls.thumbnail.dirty||e.form.controls.thumbnail.touched)),i(4),l("Created At (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.created_at.invalid&&(e.form.controls.created_at.dirty||e.form.controls.created_at.touched)),i(4),l("Language (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.language.invalid&&(e.form.controls.language.dirty||e.form.controls.language.touched)),i(4),l("Short Description (",e.lang.lang,")"),i(2),m("ngIf",e.form.controls.short_description.invalid&&(e.form.controls.short_description.dirty||e.form.controls.short_description.touched)),i(2),m("disabled",e.formLoader)}},dependencies:[D,I,F,q,w,M,N,j,H,V,G,P],encapsulation:2});let n=d;return n})();export{de as DocumentCreateComponent};
