import{a as $}from"./chunk-WH53N5GO.js";import"./chunk-6FZ5AS33.js";import"./chunk-ENBDSQAS.js";import{c as I,h as j,s as F,t as V,x as P,z as U}from"./chunk-KXDWJKY6.js";import{Fa as b,La as c,Ma as h,W as y,Ya as p,_a as _,ab as s,bb as L,cb as E,db as w,ea as x,eb as t,fa as f,fb as e,gb as C,jb as S,kb as v,lb as m,qb as l,rb as u,sb as g,ub as D,xb as k,zb as T}from"./chunk-BCCWPBFH.js";import"./chunk-4CLCTAJ7.js";var M=(i,r)=>r.id,N=i=>({active:i});function O(i,r){i&1&&(t(0,"a",14),l(1,"Add New"),e())}function A(i,r){i&1&&(t(0,"td",24),l(1,"Loading"),e())}function W(i,r){if(i&1&&(t(0,"a",31),C(1,"i",33),e()),i&2){let n=m().$implicit;_("routerLink","/admin/document/edit/"+n.id)}}function z(i,r){if(i&1){let n=S();t(0,"a",34),v("click",function(){x(n);let a=m().$implicit,d=m(4);return f(d.onDelete(a.id))}),C(1,"i",35),e()}}function R(i,r){if(i&1&&(t(0,"tr")(1,"td",23),l(2),e(),t(3,"td"),C(4,"img",27),e(),t(5,"td"),l(6),e(),t(7,"td"),l(8),e(),t(9,"td"),l(10),e(),t(11,"td"),l(12),e(),t(13,"td")(14,"a",28),l(15,"Pdf"),e()(),t(16,"td"),l(17),e(),t(18,"td"),l(19),e(),t(20,"td"),l(21),e(),t(22,"td",29)(23,"div",30),p(24,W,2,1,"a",31)(25,z,2,0,"a",32),e()()()),i&2){let n,o,a=r.$implicit,d=m(4);c(2),u(a.id),c(2),_("src",d.apiUrl+"/"+a.thumbnail,b),c(2),u(a.title),c(2),u(a.country),c(2),u(a.topic),c(2),u(a.language),c(2),_("href",d.apiUrl+"/"+a.pdf,b),c(3),g(" ",(n=a.like)!==null&&n!==void 0?n:0,""),c(2),g(" ",(o=a.views)!==null&&o!==void 0?o:0,""),c(2),g(" ",a.date,""),c(3),s(d.service.adminService.p.includes("document.edit")?24:-1),c(),s(d.service.adminService.p.includes("document.delete")?25:-1)}}function B(i,r){if(i&1&&E(0,R,26,12,"tr",null,M),i&2){let n=m(3);w(n.dataSource==null?null:n.dataSource.data)}}function H(i,r){if(i&1&&p(0,B,2,0),i&2){let n=m(2);s(n.dataSource!=null&&n.dataSource.data?0:-1)}}function q(i,r){if(i&1){let n=S();t(0,"li",36)(1,"button",37),v("click",function(){let a=x(n).$implicit,d=m(3);return f(d.handlePage(a))}),l(2),e()()}if(i&2){let n=r.$implicit,o=m(3);c(),_("ngClass",T(2,N,n==o.options.page)),c(),u(n)}}function G(i,r){if(i&1&&E(0,q,3,4,"li",36,L),i&2){let n=m(2);w(n.dataSource==null?null:n.dataSource.links)}}function J(i,r){if(i&1){let n=S();t(0,"div",16)(1,"div",17)(2,"p"),l(3),e()(),t(4,"div",18)(5,"input",19),v("keypress",function(a){x(n);let d=m();return f(d.handleSearch(a))}),e()()(),t(6,"div",20)(7,"table",21)(8,"thead",22)(9,"tr")(10,"th",23),l(11,"#"),e(),t(12,"th",23),l(13,"Image"),e(),t(14,"th",23),l(15,"Title"),e(),t(16,"th",23),l(17,"Country"),e(),t(18,"th",23),l(19,"Topic"),e(),t(20,"th",23),l(21,"Language"),e(),t(22,"th",23),l(23,"PDF"),e(),t(24,"th",23),l(25,"Like"),e(),t(26,"th",23),l(27,"Views"),e(),t(28,"th",23),l(29,"Date"),e(),t(30,"th",23),l(31,"Action"),e()()(),t(32,"tbody",22),p(33,A,2,0,"td",24)(34,H,1,1),e()(),t(35,"div",25)(36,"ul",26),p(37,G,2,0),e()()()}if(i&2){let n,o=m();c(3),D("Showing ",(n=o.dataSource==null?null:o.dataSource.from)!==null&&n!==void 0?n:0," to ",(n=o.dataSource==null?null:o.dataSource.to)!==null&&n!==void 0?n:0," of ",(n=o.dataSource==null?null:o.dataSource.total)!==null&&n!==void 0?n:0," entries"),c(30),s(o.loader?33:34),c(4),s(o.dataSource.links?37:-1)}}var ae=(()=>{let r=class r{constructor(o,a,d){this.service=o,this.notification=a,this.router=d,this.apiUrl=P.apiUrl,this.loader=!1,this.dataSource={},this.options={type:"document",page:1,limit:10}}ngOnInit(){this.getList()}getList(){this.loader=!0,this.service.list(this.options).subscribe({next:o=>{this.dataSource=o.data,this.loader=!1},error:o=>{this.notification.error("Something Went Wrong"),this.loader=!1}})}handleSearch(o){let a=o.target;this.options.search=a.value,this.getList()}handlePage(o){this.options.page=o,this.getList()}onDelete(o){this.loader=!0,this.service.delete(o).subscribe({next:a=>{this.notification.success(a.message),this.getList()},error:a=>{let d=a.error;d?d.errors?this.notification.error(Object.values(d.errors)[0]):this.notification.error(d.message):this.notification.error("Something Went Wrong"),this.loader=!1}})}};r.\u0275fac=function(a){return new(a||r)(h($),h(U),h(F))},r.\u0275cmp=y({type:r,selectors:[["app-document-list"]],standalone:!0,features:[k],decls:21,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","justify-content-center","align-items-center"],[1,"mb-0","text-white"],["routerLink","/admin/document/create",1,"btn","btn-primary"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","pb-3"],[1,"text-end"],[1,"d-flex","justify-content-center","align-items-center"],["id","search","placeholder","Search",1,"form-control",3,"keypress"],[1,"table-responsive"],[1,"table","border","table-striped"],[1,"text-nowrap","text-truncate"],[1,"text-center"],["colspan","5",1,"text-center"],["id","example23_paginate",1,"dataTables_paginate","paging_simple_numbers","pt-3"],[1,"pagination",2,"justify-content","center"],[2,"width","50px","height","50px",3,"src"],["target","_blank",3,"href"],[1,"text-center","text-nowrap"],[1,"bt-group"],["title","Edit",1,"me-2","btn","btn-info","text-white",3,"routerLink"],["title","Delete",1,"btn","btn-danger","text-white"],[1,"icon","mdi","mdi-grease-pencil"],["title","Delete",1,"btn","btn-danger","text-white",3,"click"],[1,"icon","mdi","mdi-delete"],[1,"paginate_button","page-item"],[1,"page-link",3,"click","ngClass"]],template:function(a,d){a&1&&(t(0,"div",0)(1,"div",1)(2,"h4",2),l(3,"All Document"),e()(),t(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),l(9,"Home"),e()(),t(10,"li",8),l(11,"Document"),e()()()()(),t(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),l(17,"All Document List"),e(),p(18,O,2,0,"a",14),e(),t(19,"div",15),p(20,J,38,5),e()()()()),a&2&&(c(18),s(d.service.adminService.p.includes("document.create")?18:-1),c(2),s(d.service.adminService.p.includes("document.list")?20:-1))},dependencies:[V,j,I],styles:[`.paginate_button[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{
    background-color: #03a9f3;
    color: white;
  }`]});let i=r;return i})();export{ae as DocumentListComponent};
