import{a as O}from"./chunk-EHRKTZ2E.js";import{c as S,f as T,s as w}from"./chunk-QLBEZW53.js";import{Aa as y,La as _,Na as s,Pa as f,Qa as k,Ra as U,Sa as b,Ta as m,Ua as l,Va as p,W as h,Ya as I,Za as d,_a as c,da as C,db as g,ea as v,gb as E,ja as x,jb as M,ua as u,za as o}from"./chunk-R3V5JELH.js";function H(e,t){e&1&&(m(0,"li"),g(1,"Loading..."),l())}function V(e,t){if(e&1){let a=I();m(0,"li",7),d("click",function(){let r=C(a).$implicit,i=c(3);return v(i.select(r))}),p(1,"img",8),m(2,"span"),g(3),l()()}if(e&2){let a=t.$implicit;o(),s("src",a.link,u),o(2),E("",a.name.slice(0,10),".",a.extension,"")}}function z(e,t){if(e&1&&U(0,V,4,3,"li",null,k),e&2){let a=c(2);b(a.files)}}function D(e,t){if(e&1&&(m(0,"ul"),_(1,H,2,0,"li")(2,z,2,0),l()),e&2){let a=c();o(),f(a.loading?1:2)}}var J=(()=>{let t=class t{constructor(n){this.service=n,this.apiUrl=w.apiUrl,this.files=[],this.loading=!1,this.image="",this.name="",this.imgHanle=new x}hanldeChange(n){n.target.value.length>0?(this.loading=!0,this.service.list({search:n.target.value}).subscribe({next:r=>{this.files=r.data.data,this.loading=!1}})):(this.files=[],this.loading=!1)}select(n){this.image=n.path,this.imgHanle.emit({path:n.path,name:this.name})}remove(){this.image="",this.imgHanle.emit("")}};t.\u0275fac=function(r){return new(r||t)(y(O))},t.\u0275cmp=h({type:t,selectors:[["app-img-uploader"]],inputs:{image:"image",name:"name"},outputs:{imgHanle:"imgHanle"},standalone:!0,features:[M],decls:9,vars:7,consts:[[1,"img_uploader"],[3,"ngClass"],[2,"width","100%","border","1px solid #e9ecef"],["width","50px","height","35px",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],["type","hidden",3,"value","name"],[1,"form-control",3,"keyup","ngClass","value"],[3,"click"],["height","50px",2,"width","50px",3,"src"]],template:function(r,i){r&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),p(3,"img",3),l(),m(4,"button",4),d("click",function(){return i.remove()}),g(5,"X"),l(),p(6,"input",5),l(),m(7,"input",6),d("keyup",function(F){return i.hanldeChange(F)}),l(),_(8,D,3,1,"ul"),l()),r&2&&(o(),s("ngClass",i.image?"d-flex":"d-none"),o(2),s("src",i.apiUrl+"/"+i.image,u),o(3),s("value",i.image)("name",i.name),o(),s("ngClass",i.image?"d-none":"d-block")("value",i.image),o(),f(i.image?-1:8))},dependencies:[T,S],styles:[".img_uploader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:5px}.img_uploader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.img_uploader[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#f5eded5c;border:1px solid #e9ecef;cursor:pointer;padding:5px 10px;margin:10px 0}"]});let e=t;return e})();export{J as a};
