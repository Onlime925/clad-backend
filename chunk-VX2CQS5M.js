import{a as $}from"./chunk-UVG6VTVB.js";import"./chunk-6DKBZJ63.js";import"./chunk-3IEMDY3T.js";import{$ as m,F as f,G as x,Ja as I,O as b,Oa as j,S as c,T as h,X as p,Y as u,Za as V,_a as F,aa as P,ba as E,bb as D,ca as w,da as e,db as U,ea as t,fa as C,ia as v,ja as S,ka as s,pa as l,qa as _,ra as g,ta as y,wa as k,ya as T,z as L}from"./chunk-UFGFQ7NC.js";import"./chunk-4CLCTAJ7.js";var A=(i,r)=>r.id,M=i=>({active:i});function N(i,r){i&1&&(e(0,"a",14),l(1,"Add New"),t())}function O(i,r){i&1&&(e(0,"td",24),l(1,"Loading"),t())}function W(i,r){if(i&1&&(e(0,"a",31),C(1,"i",33),t()),i&2){let n=s().$implicit;u("routerLink","/admin/pdf/edit/"+n.id)}}function z(i,r){if(i&1){let n=v();e(0,"a",34),S("click",function(){f(n);let a=s().$implicit,d=s(4);return x(d.onDelete(a.id))}),C(1,"i",35),t()}}function R(i,r){if(i&1&&(e(0,"tr")(1,"td",23),l(2),t(),e(3,"td"),C(4,"img",27),t(),e(5,"td"),l(6),t(),e(7,"td"),l(8),t(),e(9,"td"),l(10),t(),e(11,"td")(12,"a",28),l(13,"Pdf"),t()(),e(14,"td"),l(15),t(),e(16,"td"),l(17),t(),e(18,"td"),l(19),t(),e(20,"td",29)(21,"div",30),p(22,W,2,1,"a",31)(23,z,2,0,"a",32),t()()()),i&2){let n,o,a=r.$implicit,d=s(4);c(2),_(a.id),c(2),u("src",d.apiUrl+"/"+a.thumbnail,b),c(2),_(a.title),c(2),_(a.author),c(2),_(a.creater),c(2),u("href",d.apiUrl+"/"+a.pdf,b),c(3),g(" ",(n=a.like)!==null&&n!==void 0?n:0,""),c(2),g(" ",(o=a.views)!==null&&o!==void 0?o:0,""),c(2),g(" ",a.date,""),c(3),m(d.service.adminService.p.includes("pdf.edit")?22:-1),c(),m(d.service.adminService.p.includes("pdf.delete")?23:-1)}}function B(i,r){if(i&1&&E(0,R,24,11,"tr",null,A),i&2){let n=s(3);w(n.dataSource==null?null:n.dataSource.data)}}function H(i,r){if(i&1&&p(0,B,2,0),i&2){let n=s(2);m(n.dataSource!=null&&n.dataSource.data?0:-1)}}function q(i,r){if(i&1){let n=v();e(0,"li",36)(1,"button",37),S("click",function(){let a=f(n).$implicit,d=s(3);return x(d.handlePage(a))}),l(2),t()()}if(i&2){let n=r.$implicit,o=s(3);c(),u("ngClass",T(2,M,n==o.options.page)),c(),_(n)}}function G(i,r){if(i&1&&E(0,q,3,4,"li",36,P),i&2){let n=s(2);w(n.dataSource==null?null:n.dataSource.links)}}function J(i,r){if(i&1){let n=v();e(0,"div",16)(1,"div",17)(2,"p"),l(3),t()(),e(4,"div",18)(5,"input",19),S("input",function(a){f(n);let d=s();return x(d.handleSearch(a))}),t()()(),e(6,"div",20)(7,"table",21)(8,"thead",22)(9,"tr")(10,"th",23),l(11,"#"),t(),e(12,"th",23),l(13,"Image"),t(),e(14,"th",23),l(15,"Title"),t(),e(16,"th",23),l(17,"Author"),t(),e(18,"th",23),l(19,"Creater"),t(),e(20,"th",23),l(21,"Pdf"),t(),e(22,"th",23),l(23,"Like"),t(),e(24,"th",23),l(25,"Views"),t(),e(26,"th",23),l(27,"Date"),t(),e(28,"th",23),l(29,"Action"),t()()(),e(30,"tbody",22),p(31,O,2,0,"td",24)(32,H,1,1),t()(),e(33,"div",25)(34,"ul",26),p(35,G,2,0),t()()()}if(i&2){let n,o=s();c(3),y("Showing ",(n=o.dataSource==null?null:o.dataSource.from)!==null&&n!==void 0?n:0," to ",(n=o.dataSource==null?null:o.dataSource.to)!==null&&n!==void 0?n:0," of ",(n=o.dataSource==null?null:o.dataSource.total)!==null&&n!==void 0?n:0," entries"),c(28),m(o.loader?31:32),c(4),m(o.dataSource.links?35:-1)}}var at=(()=>{let r=class r{constructor(o,a,d){this.service=o,this.notification=a,this.router=d,this.apiUrl=D.apiUrl,this.loader=!1,this.dataSource={},this.options={type:"pdf",page:1,limit:10}}ngOnInit(){this.getList()}getList(){this.loader=!0,this.service.list(this.options).subscribe({next:o=>{this.dataSource=o.data,this.loader=!1},error:o=>{this.notification.error("Something Went Wrong"),this.loader=!1}})}handleSearch(o){let a=o.target;this.options.search=a.value,this.getList()}handlePage(o){this.options.page=o,this.getList()}onDelete(o){this.loader=!0,this.service.delete(o).subscribe({next:a=>{this.notification.success(a.message),this.getList()},error:a=>{let d=a.error;d?d.errors?this.notification.error(Object.values(d.errors)[0]):this.notification.error(d.message):this.notification.error("Something Went Wrong"),this.loader=!1}})}};r.\u0275fac=function(a){return new(a||r)(h($),h(U),h(V))},r.\u0275cmp=L({type:r,selectors:[["app-pdf-list"]],standalone:!0,features:[k],decls:21,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","justify-content-center","align-items-center"],[1,"mb-0","text-white"],["routerLink","/admin/pdf/create",1,"btn","btn-primary"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","pb-3"],[1,"text-end"],[1,"d-flex","justify-content-center","align-items-center"],["id","search","placeholder","Search",1,"form-control",3,"input"],[1,"table-responsive"],[1,"table","border","table-striped"],[1,"text-nowrap","text-truncate"],[1,"text-center"],["colspan","5",1,"text-center"],["id","example23_paginate",1,"dataTables_paginate","paging_simple_numbers","pt-3"],[1,"pagination",2,"justify-content","center"],[2,"width","50px","height","50px",3,"src"],["target","_blank",3,"href"],[1,"text-center","text-nowrap"],[1,"bt-group"],["title","Edit",1,"me-2","btn","btn-info","text-white",3,"routerLink"],["title","Delete",1,"btn","btn-danger","text-white"],[1,"icon","mdi","mdi-grease-pencil"],["title","Delete",1,"btn","btn-danger","text-white",3,"click"],[1,"icon","mdi","mdi-delete"],[1,"paginate_button","page-item"],[1,"page-link",3,"click","ngClass"]],template:function(a,d){a&1&&(e(0,"div",0)(1,"div",1)(2,"h4",2),l(3,"All Pdf"),t()(),e(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),l(9,"Home"),t()(),e(10,"li",8),l(11,"Pdf"),t()()()()(),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),l(17,"All Pdf List"),t(),p(18,N,2,0,"a",14),t(),e(19,"div",15),p(20,J,36,5),t()()()()),a&2&&(c(18),m(d.service.adminService.p.includes("pdf.create")?18:-1),c(2),m(d.service.adminService.p.includes("pdf.list")?20:-1))},dependencies:[F,j,I],styles:[`.paginate_button[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{
    background-color: #03a9f3;
    color: white;
  }`]});let i=r;return i})();export{at as PdfListComponent};
